@page "/administration"
@using LawyerServices.Common.LawyerViewModels
@using LawyerServices.Services.Data.AdminServices
@using LawyerServices.Common.AministrationViewModels
@using LawyerServices.Web.Areas.Administration.Pages.Components

@layout Administration.Shared.AdminLayout

@inject IUserService userService
@inject ILawyerService lawyerService

@attribute [Authorize(Roles = "Administrator")]

<h3>Adddddddddddddmin</h3>
@foreach(var user in userModel)
{
    <p>@user.UserName</p>
}
@foreach(var user in allLawyers)
{
    <LawyerCard Lawyer="@user"></LawyerCard>
}
@code {
    private IEnumerable<UserViewModel> userModel;
    private IEnumerable<LawyerListItem> allLawyers;

    protected override void OnInitialized()
    {
        userModel = new List<UserViewModel>();
        allLawyers = new List<LawyerListItem>();
        this.userModel = userService.GetAll<UserViewModel>();
        this.allLawyers = lawyerService.GetAllLawyers<LawyerListItem>();
    }
}